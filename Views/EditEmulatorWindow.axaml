<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Nexo.ViewModels"
        x:Class="Nexo.Views.EditEmulatorWindow"
        Title="Editar Emulador"
        Width="500" Height="600"
        WindowStartupLocation="CenterOwner"
        Background="#0D1117">

    <Window.Styles>
        <Style Selector="Window">
            <Setter Property="FontFamily" Value="Spline Sans, Noto Sans, sans-serif"/>
        </Style>
        <Style Selector="TextBlock">
            <Setter Property="Foreground" Value="#C9D1D9"/>
        </Style>
        <Style Selector="Button">
            <Setter Property="Background" Value="#161B22"/>
            <Setter Property="Foreground" Value="#C9D1D9"/>
            <Setter Property="BorderBrush" Value="#30363D"/>
            <Setter Property="Margin" Value="0,0,5,0"/>
            <Setter Property="Padding" Value="10,5"/>
        </Style>
        <Style Selector="Button:pointerover">
            <Setter Property="Background" Value="#30363D"/>
        </Style>
        <Style Selector="TextBox">
            <Setter Property="Background" Value="#161B22"/>
            <Setter Property="Foreground" Value="#C9D1D9"/>
            <Setter Property="BorderBrush" Value="#30363D"/>
        </Style>
        <Style Selector="ComboBox">
            <Setter Property="Background" Value="#161B22"/>
            <Setter Property="Foreground" Value="#C9D1D9"/>
            <Setter Property="BorderBrush" Value="#30363D"/>
        </Style>
    </Window.Styles>

    <ScrollViewer Margin="20">
        <StackPanel Spacing="20">
            <!-- Header -->
            <StackPanel>
                <TextBlock Text="Configuración de Emulador" FontSize="20" FontWeight="Bold"/>
                <Rectangle Height="1" Fill="#30363D" Margin="0,10,0,0"/>
            </StackPanel>

            <!-- Emulator parameters -->
            <StackPanel Spacing="15">
                <TextBlock Text="Parámetros del Emulador" FontSize="16" Foreground="#3B82F6" FontWeight="Bold"/>
                
                <StackPanel Spacing="10">
                    <TextBlock Text="Nombre del emulador" FontSize="14"/>
                    <TextBox Text="{Binding Name}"/>
                    
                    <TextBlock Text="Ruta del ejecutable" FontSize="14"/>
                    <StackPanel Orientation="Horizontal" Spacing="5">
                        <TextBox Text="{Binding ExecutablePath}" Width="300"/>
                        <Button Content="..." Command="{Binding BrowseExecutableCommand}" Width="40"/>
                    </StackPanel>
                    
                    <TextBlock Text="Argumentos de línea de comandos" FontSize="14"/>
                    <TextBox Text="{Binding Arguments}"/>
                </StackPanel>
            </StackPanel>

            <!-- Associated extensions -->
            <StackPanel Spacing="15">
                <TextBlock Text="Extensiones Asociadas" FontSize="16" Foreground="#3B82F6" FontWeight="Bold"/>
                
                <ItemsControl Name="ExtensionsList" ItemsSource="{Binding AssociatedExtensions}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Spacing="5" Margin="0,5">
                                <TextBox Text="{Binding}" Width="100"/>
                                <Button Background="Transparent" BorderThickness="0" Foreground="#FF6B6B">
                                    <PathIcon Data="M19,7l-.867,12.142A2,2,0,0,1,16.138,21H7.862a2,2,0,0,1-1.995-1.858L5,7m5,4v6m4-6v6m1-10V4a1,1,0,0,0-1-1H10a1,1,0,0,0-1,1V3H4V5H20V3H15Z"
                                             Width="20" Height="20"/>
                                </Button>
                            </StackPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
                
                <Button Content="Añadir extensión" Background="#3B82F6" Foreground="Black" 
                        FontWeight="Bold" HorizontalAlignment="Left"/>
            </StackPanel>

            <!-- Buttons -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                <Button Content="Cancelar" Click="CancelButton_Click"/>
                <Button Content="Guardar" Click="SaveButton_Click" Background="#3B82F6" 
                        Foreground="Black" FontWeight="Bold"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Window>